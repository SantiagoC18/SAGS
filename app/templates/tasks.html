<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="/static/img/sirs.jpg">
    <script src="https://kit.fontawesome.com/25eed41d7b.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/static/css/estilos.css">
    <link rel="stylesheet" href="/static/css/tareas.css">
    <title>Tareas</title>
</head>

<body>

    <header>
        <a href="{{ url_for('main.index') }}" class="logo"><img src="/static/img/sirs.jpg" width="60px"></a>

        <ul class="navbar">
            <li><a href="{{ url_for('main.index') }}">Home</a></li>
            <li><a href="{{ url_for('main.sobre_nosotros') }}">Sobre Nosotros</a></li>
            <li><a href="{{ url_for('main.modulos') }}" class="active">Gestion de Proyectos</a></li>
            <!--<li><a href="{{ url_for('main.opiniones') }}">Opiniones</a></li>-->
            <li><a href="{{ url_for('profile.perfil') }}">Perfil</a></li>
        </ul>

        <div class="main">
            <a href="{{ url_for('auth.logout') }}" class="user"><i class="fa-solid fa-user"></i>{% if log %} {{log}}
                Sesion
                {% endif %}
            </a>
            <div class="bx bx-menu" id="menu-icon"><i class="fa-solid fa-bars"></i></div>
        </div>
    </header>

    <script type="module" src="https://unpkg.com/@splinetool/viewer@1.3.8/build/spline-viewer.js"></script>
    <spline-viewer url="https://prod.spline.design/oP1Rx8Le7K9noHAa/scene.splinecode"></spline-viewer>


    <!-- Contenido principal -->
    <section class="container_tasks">

        <button class="button" id="btn-abrir-popup1">
            <svg class="button-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
            Nueva Tarea
        </button>

        <br>

        <table id="myTable" class="display bg-[#000]" style="max-width:49vw; overflow: auto;">
            <thead>
                <tr>
                    <th>#</th>
                    <th>TAREA</th>
                    <th>ESTADO</th>
                    <th>PRIORIDAD</th>
                    <th>ASIGNADO A</th>
                    <th>FECHA LIMITE</th>
                    <th>ACCIONES</th>
                </tr>
            </thead>
            <tbody>

                {% for data in data %}

                <tr class="info">
                    <td>

                    </td>
                    <td>nombre</td>
                    <td>desc</td>
                    <td>
                        <div class="flex justify-between mb-1">
                            <span class="text-sm font-medium text-blue-700 dark:text-white">{{ data['progreso']
                                }}%</span>
                        </div>

                    </td>
                    <td><button
                            class="preview-button bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md"
                            data-id="" data-filename="">Ver</button>
                        <a href="https://app.diagrams.net/"
                            class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md">Editar</a>
                    </td>
                    <td>fecha</td>
                    <td>
                        <a href="#"></a><i class="fa-regular fa-pen-to-square"></i></a>
                        <a href="#"><i class="fa-solid fa-trash"></i></a>
                    </td>
                </tr>

                {% endfor %}
            </tbody>
        </table>

        <!-- Filtros -->
        <div class="filters">
            <div class="filter-group">
                <span class="filter-label">Sprint</span>
                <select class="filter-select">
                    <option value="all">Todos</option>
                    <option value="sprint-1">Sprint 1</option>
                    <option value="sprint-2">Sprint 2</option>
                    <option value="sprint-3">Sprint 3</option>
                </select>
            </div>
            <div class="filter-group">
                <span class="filter-label">Estado</span>
                <select class="filter-select">
                    <option value="all">Todos</option>
                    <option value="todo">Por hacer</option>
                    <option value="in-progress">En progreso</option>
                    <option value="review">En revisión</option>
                    <option value="done">Completado</option>
                </select>
            </div>
            <div class="filter-group">
                <span class="filter-label">Asignado a</span>
                <select class="filter-select">
                    <option value="all">Todos</option>
                    <option value="santiago">Santiago</option>
                    <option value="maria-jose">María José</option>
                    <option value="shiuu">Shiuu</option>
                </select>
            </div>
            <div class="search-box">
                <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
                <input type="text" class="search-input" placeholder="Buscar tareas...">
            </div>
        </div>

        <!-- Tabla de tareas -->
        <table class="tasks-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Título</th>
                    <th>Estado</th>
                    <th>Prioridad</th>
                    <th>Asignado a</th>
                    <th>Fecha límite</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                <!-- Tarea 1 -->
                <tr>
                    <td class="task-id">T-001</td>
                    <td><a href="#" class="task-title">Diseñar wireframes de la aplicación</a></td>
                    <td><span class="task-status status-done">Completado</span></td>
                    <td><span class="task-priority priority-high">Alta</span></td>
                    <td class="task-assignee">
                        <img src="https://via.placeholder.com/20" alt="Avatar" class="assignee-avatar">
                        <span class="assignee-name">María José</span>
                    </td>
                    <td class="task-date">15 Mar, 2023</td>
                    <td class="task-actions">
                        <button class="action-button">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                            </svg>
                        </button>
                        <button class="action-button">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <polyline points="3 6 5 6 21 6"></polyline>
                                <path
                                    d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                                </path>
                            </svg>
                        </button>
                    </td>
                </tr>

                <!-- Tarea 2 -->
                <tr>
                    <td class="task-id">T-002</td>
                    <td><a href="#" class="task-title">Implementar autenticación de usuarios</a></td>
                    <td><span class="task-status status-in-progress">En progreso</span></td>
                    <td><span class="task-priority priority-high">Alta</span></td>
                    <td class="task-assignee">
                        <img src="https://via.placeholder.com/20" alt="Avatar" class="assignee-avatar">
                        <span class="assignee-name">Santiago</span>
                    </td>
                    <td class="task-date">2 Abr, 2023</td>
                    <td class="task-actions">
                        <button class="action-button">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                            </svg>
                        </button>
                        <button class="action-button">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <polyline points="3 6 5 6 21 6"></polyline>
                                <path
                                    d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                                </path>
                            </svg>
                        </button>
                    </td>
                </tr>

                <!-- Tarea 3 -->
                <tr>
                    <td class="task-id">T-003</td>
                    <td><a href="#" class="task-title">Crear componentes UI reutilizables</a></td>
                    <td><span class="task-status status-review">En revisión</span></td>
                    <td><span class="task-priority priority-medium">Media</span></td>
                    <td class="task-assignee">
                        <img src="https://via.placeholder.com/20" alt="Avatar" class="assignee-avatar">
                        <span class="assignee-name">Shiuu</span>
                    </td>
                    <td class="task-date">30 Mar, 2023</td>
                    <td class="task-actions">
                        <button class="action-button">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                            </svg>
                        </button>
                        <button class="action-button">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <polyline points="3 6 5 6 21 6"></polyline>
                                <path
                                    d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                                </path>
                            </svg>
                        </button>
                    </td>
                </tr>

                <!-- Tarea 4 -->
                <tr>
                    <td class="task-id">T-004</td>
                    <td><a href="#" class="task-title">Optimizar rendimiento de la aplicación</a></td>
                    <td><span class="task-status status-todo">Por hacer</span></td>
                    <td><span class="task-priority priority-low">Baja</span></td>
                    <td class="task-assignee">
                        <img src="https://via.placeholder.com/20" alt="Avatar" class="assignee-avatar">
                        <span class="assignee-name">Santiago</span>
                    </td>
                    <td class="task-date">10 Abr, 2023</td>
                    <td class="task-actions">
                        <button class="action-button">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                            </svg>
                        </button>
                        <button class="action-button">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <polyline points="3 6 5 6 21 6"></polyline>
                                <path
                                    d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                                </path>
                            </svg>
                        </button>
                    </td>
                </tr>

                <!-- Tarea 5 -->
                <tr>
                    <td class="task-id">T-005</td>
                    <td><a href="#" class="task-title">Implementar sistema de notificaciones</a></td>
                    <td><span class="task-status status-todo">Por hacer</span></td>
                    <td><span class="task-priority priority-medium">Media</span></td>
                    <td class="task-assignee">
                        <img src="https://via.placeholder.com/20" alt="Avatar" class="assignee-avatar">
                        <span class="assignee-name">María José</span>
                    </td>
                    <td class="task-date">15 Abr, 2023</td>
                    <td class="task-actions">
                        <button class="action-button">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                            </svg>
                        </button>
                        <button class="action-button">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <polyline points="3 6 5 6 21 6"></polyline>
                                <path
                                    d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                                </path>
                            </svg>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>

        <!-- Paginación -->
        <div class="pagination">
            <div class="page-item">
                <a href="#" class="page-link">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="15 18 9 12 15 6"></polyline>
                    </svg>
                </a>
            </div>
            <div class="page-item">
                <a href="#" class="page-link active">1</a>
            </div>
            <div class="page-item">
                <a href="#" class="page-link">2</a>
            </div>
            <div class="page-item">
                <a href="#" class="page-link">3</a>
            </div>
            <div class="page-item">
                <a href="#" class="page-link">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="9 18 15 12 9 6"></polyline>
                    </svg>
                </a>
            </div>
        </div>
    </section>

    <!--ventana emergente2-->

    <div class="overlay" id="overlay1">
        <div class="popup" id="popup1">
            <div class="modal-header">
                <h2 class="modal-title">Nueva Tarea</h2>
            </div>
            <div class="modal-body">
                <form id="task-form">
                    <div class="form-group">
                        <label for="task-title" class="form-label">Título de la tarea</label>
                        <input type="text" class="form-control" id="task-title"
                            placeholder="Ej: Implementar autenticación de usuarios">
                    </div>

                    <div class="form-group">
                        <label for="task-description" class="form-label">Descripción</label>
                        <textarea class="form-control" id="task-description"
                            placeholder="Describe los detalles de la tarea"></textarea>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="sprint" class="form-label">Sprint</label>
                                <select class="form-control" id="sprint">
                                    <option value="">Seleccionar Sprint</option>
                                    <option value="sprint-1">Sprint 1: Diseño de UI</option>
                                    <option value="sprint-2">Sprint 2: Desarrollo Frontend</option>
                                    <option value="sprint-3">Sprint 3: Integración Backend</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="due-date" class="form-label">Fecha límite</label>
                                <input type="date" class="form-control" id="due-date">
                            </div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="status" class="form-label">Estado</label>
                                <select class="form-control" id="status">
                                    <option value="todo">Por hacer</option>
                                    <option value="in-progress">En progreso</option>
                                    <option value="review">En revisión</option>
                                    <option value="done">Completado</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="priority" class="form-label">Prioridad</label>
                                <select class="form-control" id="priority">
                                    <option value="low">Baja</option>
                                    <option value="medium">Media</option>
                                    <option value="high">Alta</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="assignee" class="form-label">Asignado a</label>
                        <select class="form-control" id="assignee">
                            <option value="">Sin asignar</option>
                            <option value="santiago">
                                Santiago
                            </option>
                            <option value="maria-jose">
                                María José
                            </option>
                            <option value="shiuu">
                                Shiuu
                            </option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Etiquetas</label>
                        <div class="tags">
                            <input type="checkbox" id="tag-1" class="tag-checkbox">
                            <label for="tag-1" class="tag-label">Frontend</label>

                            <input type="checkbox" id="tag-2" class="tag-checkbox">
                            <label for="tag-2" class="tag-label">Backend</label>

                            <input type="checkbox" id="tag-3" class="tag-checkbox">
                            <label for="tag-3" class="tag-label">UI/UX</label>

                            <input type="checkbox" id="tag-4" class="tag-checkbox">
                            <label for="tag-4" class="tag-label">Bug</label>

                            <input type="checkbox" id="tag-5" class="tag-checkbox">
                            <label for="tag-5" class="tag-label">Mejora</label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="estimated-hours" class="form-label">Horas estimadas</label>
                        <input type="number" class="form-control" id="estimated-hours" min="0" step="0.5"
                            placeholder="Ej: 4.5">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="btn-cerrar-popup1">Cancelar</button>
                <button type="submit" form="task-form" class="btn btn-primary">Crear Tarea</button>
            </div>
        </div>
    </div>



    <!--fin ventana emergente2-->

    <script src="/static/js/popup.js"></script>

    <!--scripts para dataTable-->

    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <script src="https://cdn.tailwindcss.com/"></script>
    <script src="https://cdn.datatables.net/2.1.5/js/dataTables.js"></script>
    <script src="https://cdn.datatables.net/2.1.5/js/dataTables.tailwindcss.js"></script>
    <script src="https://cdn.tailwindcss.com/"></script>
    <script src="/static/js/bar.js"></script>
    <script src="/static/js/dataTable.js"></script>

</body>

</html>